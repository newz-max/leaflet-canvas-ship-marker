var m=Object.defineProperty;var v=(a,n,e)=>n in a?m(a,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[n]=e;var r=(a,n,e)=>(v(a,typeof n!="symbol"?n+"":n,e),e);(function(a){typeof define=="function"&&define.amd?define(a):a()})(function(){"use strict";class a extends L.Canvas.CustomCanvas{constructor(){super(...arguments);r(this,"_instance",null)}drawLayer(){const{options:{latlngs:e},_map:t}=this,i=e.map(o=>{const s={};return o.latlng||(s.lat=o.lat,s.lng=o.lng),{latlng:t.latLngToContainerPoint(s),deg:o.deg||0}});this.drawShip(i)}drawShip(e){const{_ctx:t}=this;e.forEach((i,o)=>{let{x:s,y:l}=i.latlng;s*=2,l*=2,((h,c,d,_)=>{h.restore(),h.translate(0,0),h.save(),h.translate(c,d),h.rotate(_*Math.PI/180)})(t,s,l,i.deg),t.beginPath(),t.lineWidth=2,t.moveTo(0,-20),t.lineTo(0,-20),t.lineTo(7,-10),t.lineTo(7,20),t.lineTo(-7,20),t.lineTo(-7,-10),t.lineTo(0,-20),t.fillStyle="#ffff54",t.fill(),t.stroke()})}}L.canvas.CanvasShip=n=>new a(n),L.Canvas.CustomCanvas=L.Layer.extend({initialize(n={}){L.setOptions(this,n)},onAdd(n){this.tiles={},this._container=n.getContainer(),this._map=n;const e=this._initCanvas();(this.options.pane?n.getPanes()[this.options.pane]:n._panes.overflowPane).appendChild(e),n.on(this.getEvents(),this),this._update()},onRemove(){const{_map:n,_ctx:e,_canvas:t}=this;t.remove()},_initCanvas(){const n=L.DomUtil.create("canvas","leaflet-ship"),e=n.getContext("2d");n.style.zIndex="500",this._canvas=n,this._ctx=e,this._onLayerDidResize();var t=this._map.options.zoomAnimation&&L.Browser.any3d;return L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(t?"animated":"hide")),n},_onAnimZoom(n){var e=this._map.getZoomScale(n.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),n.zoom,n.center).min;L.Browser.any3d?L.DomUtil.setTransform(this._canvas,t,e):L.DomUtil.setPosition(this._canvas,t)},_onLayerDidResize:function(){const{x:n,y:e}=this._map.getSize();this._canvas.style.width=`${n}px`,this._canvas.style.height=`${e}px`,this._canvas.width=2*n,this._canvas.height=2*e},_onLayerDidMove:function(){this._update()},getEvents(){var n={resize:this._onLayerDidResize,moveend:this._onLayerDidMove};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_update(){const{_ctx:n,_map:e,_canvas:t}=this,i=e.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(t,i),this.clearCavnas(n,t),this.drawLayer()},drawLayer:function(){console.warn("\u5982\u81EA\u5B9A\u4E49\u65B0\u7684\u7EE7\u627F\u7C7B\uFF0C\u8BF7\u5B9E\u73B0\u6B64\u65B9\u6CD5")},clearCavnas(n,e){n.restore();const{width:t,height:i}=e;n.clearRect(0,0,t,i)}})});
//# sourceMappingURL=leaflet-canvas-ship-marker.umd.js.map
